# 목표

자바의 열거형에 대해 학습하세요.

# 학습할 것 (필수)

*   enum 정의하는 방법
*   enum이 제공하는 메소드 (values()와 valueOf())
*   java.lang.Enum
*   EnumSet



## 열겨형 (*Enum*)

### 열거형이란 ?

>   서로 관련된 상수를 편리하게 선언하기 위한 것으로 여러 상수를 정의할 때 사용하면 유용하다.

*   JDK 1.5부터 새로 추가되었다.
*   자바의 열거형은 C언어의 열겨형보다 향샹되었다. 값뿐만 아니라 타입도 관리하기 때문인데, 이로써 논리적인 오류를 줄일 수 있다.



### 열거형 적용 전, 후

*   적용전

```java
class Card {
    static final CLOVER = 0;
    static final DIAMOND = 1;
    static final HEART = 2;
    static final SPADE = 3;
    
    static final int TWO = 0;
    static final int THREE = 1;
    static final int FOUR = 2;
    
    int kind;
    int num;
}
```

*   적용후

```java
class Card {
    enum Kind { CLOVER, DIAMOND, HEART, SPADE }
	enum Value { TWO, THREE, FOUR }
    
    final Kind kind;
    final Value value;
}
```

*   Enum을 사용한다면 타입에 안전함

```java
if(Card.CLOVER == Card.TWO) // True지만 원래는 false가 맞다.
if(Card.Kind.CLOVER == Card.Value.TWO) // 컴파일 에러. 값은 같지만 타입이 다름
```



또 중요한 것은 상수의 값이 바뀌면 상수를 참조하는 모든 소스를 재 컴파일 해야하지만, Enum을 사용한다면 기존의 소스를 다시 재컴파일 하지 않아도 된다.



### 열거형의 정의와 사용

*   정의

```java
enum 열거형이름 { 상수명1, 상수명2, ... 상수명n }
```

*   정의 예제 ( 동서남북 )

```java
enum Direction { EAST, WEST, SOUTH, NORTH }
```

*   정의 예제를 통한 사용 예제

```java
class Unit {
    int x, int y;	// 유닛의 위치
    Direction dir; // 열거형을 인스턴스 변수로 선언
 	
    // 메서드
    void init() {
        dir = Direction.EAST;	// 유닛의 방향을 동쪽으로 지정
    }
}
```

*   열거형의 비교

    >   열거형은 `equals()`가 아닌  `==` 를 통해 비교를 할 수 있다.  그만큼 빠른 성능을 제공한다. 하지만 `>`, `<`등과 같은 비교연산은 할 수 없고, `compareTo()`는 사용이 가능하다.

*   switch에서의 Enum 사용

```java
void move() {
    switch(dir) {
        case EAST : x++;
            break;
        case WEST : x--;
            break;
        case SOUTH : y--;
            break;
        case NORTH : y++;
            break;
    }
}
```

*주의할 점 : `switch`문에 열겨형을 입력할 때는 `열거형이름.상수이름`이 아닌  `상수이름`만을 넣어야 한다.*



### 모든 열거형의 조상 - `java.lang.Enum`

열거형에 정의된 모든 상수를 출력하려면 `values()`를 사용한다.

```java
Direction[] dirArr = Direction.values();

for (Direction dir : dirArr) {
    System.out.printf("%s = %d%n", dir.name(), dir.ordinal());
}
```

*   **Enum 클래스 메서드**
    *   `values()` : 열거형의 모든 상수를 배열에 담아 리턴한다.
    *   `ordinal()` : 열거형의 정의된 순서대로 상수를 0부터 정수로 리턴한다.
    *   `Class<E> getDeclaringClass()`  : 열거형의 Class 객체를 리턴한다.
    *   `String name()` : 열거형 상수의 이름을 문자열로 리턴한다.
    *   `T valueOf(Class<T> enumType, String name)` : 지정된 열거형에서 name과 일치하는 열거형 상수를 리턴한다.

*   예제

```java
public class EnumEx1 {
    public static void main(String[] args) {
        Direction d1 = Direction.EAST;
        Direction d2 = Direction.valueOf("WEST");
        Direction d3 = Direction.valueOf("EAST");

        System.out.println("d1 : " + d1);
        System.out.println("d2 : " + d2);
        System.out.println("d3 : " + d3);

        System.out.println("d1 == d2 ? " + (d1 == d2));
        System.out.println("d1 == d3 ? " + (d1 == d3));
//        System.out.println("d1 > d2 ? " + (d1 > d2)); 에러.
        System.out.println("d1.equals(d2)" + (d1.equals(d2)));
        System.out.println("d1.equals(d3)" + (d1.equals(d3)));

        System.out.println("d1.compareTo(d2)" + d1.compareTo(d2));
        System.out.println("d1.compareTo(d3)" + d1.compareTo(d3));

        switch (d1) {
            case EAST :
                System.out.println("Direction is EAST");
                break;
            case WEST :
                System.out.println("Direction is WEST");
                break;
            case SOUTH :
                System.out.println("Direction is SOUTH");
                break;
            case NORTH :
                System.out.println("Direction is NORTH");
                break;
            default :
                System.out.println("Invalid Direction");
                break;
        }

        Direction[] dirArr = Direction.values();

        for (Direction direction : dirArr) {
            System.out.printf("%s = %d%n", direction.name(),direction.ordinal());
        }
    }
}
```

*   실행결과

```java
d1 : EAST
d2 : WEST
d3 : EAST
d1 == d2 ? false
d1 == d3 ? true
d1.equals(d2)false
d1.equals(d3)true
d1.compareTo(d2)-1
d1.compareTo(d3)0
Direction is EAST
EAST = 0
WEST = 1
SOUTH = 2
NORTH = 3
```



### 