# 목표

자바의 람다식에 대해 학습하세요.

# 학습할 것 (필수)

* 람다식 사용법
* 함수형 인터페이스
* Variable Capture
* 메소드, 생성자 레퍼런스



## 람다

JDK 1.8 부터 등장하였다. 람다가 등장하면서 자바는 객체 지향인 동시에 함수형 프로그래밍 언어가 되었다.

- 람다식은 익명함수라고도 한다 -> 메서드명과 리턴값이 없기 때문이다.
- 람다식은 메서드를 위해 클래스를 새로 만들거나 메서드를 위한 객체를 생성하는 일련의 과정이 필요하지 않다.
- 람다식은 메서드의 매개변수로 전달되는 것이 가능하며 메서드의 결과로도 반환될 수 있다.

## 람다식 사용법

> 반환 타입, 메서드 이름을 제거하고 매개변수 선언, 구현 사이에 `->`를 추가한다.

- 사용법

```java
(매개변수 선언) -> {
    구현부 문장
}
```

- 예제

```java
(int a, int b) -> {
    a > b ? a : b;
}
```



### 매개변수가 하나라면

- ()를 생략할 수 있다. 단, 매개변수에 타입이 있으면 생략이 불가능하다.

- 구현부에 문장이 한 줄 이면, {}를 생략할 수 있다(`;`을 붙히면 안된다). 단, 리턴문이 있는 경우에는 생략할 수 없다.

```java
a -> a * a // O
int a -> a * a // X
(int a) -> a * a // O
    
    
// BEFORE
(String name, int i ) -> {
    System.out.println(name + " = " + i)
}    

// AFTER
(String name, int i ) -> System.out.println(name + " = " + i)

// ERROR
(int a, int b) -> return a + b; // X
(int a, int b) -> { return a + b; } // O
```



## 함수형 인터페이스

자바에서 모든 메서드는 클래스 내에 포함 되어야 하는데 람다식은 **익명 클래스 객체와 동등하다.**

- 람다식

```java
(int a, int b) -> a > b ? a : b;
```

- 람다는 다음 객체처럼 취급된다.

```java
new Object() {
    int max(int a, int b) {
        return a > b ? a : b;
    }
}
```

참조 변수가 있어야 정의된 익명 객체의 메서드를 호출할 수 있다. 참조 변수의 타입은 참조형이기 때문에 클래스, 인터페이스가 되어야 한다.

- max() 메서드를 정의한 인터페이스

```java
public interface MyFunction() {
    int max(int a, int b);
}
```

- max()를 구현한 객체

```java
MyFunction f = new MyFunction() {
    public int max(int a, int b) {
        return a > b ? a : b;
    }
};
```

- max()를 람다식으로 구현

```java
MyFunction f = (int a, int b) -> a > b ? a : b; 
int max = f.max(3, 5); // 5
```

인터페이스를 구현한 익명 객체를 람다식으로 표현 가능한 이유가 람다식도 하나의 익명 객체이고 MyFunction 인터페이스를 구현한 람다식의 매개변수의 타입 개수, 반환값이 일치하기 때문이다.

- 함수형 인터페이스

```java
@FunctionalInterface
interface MyFunction {
    public abstract int max(int a, int b);
}
```

함수형 인터페이스는 추상 메서드를 단 하나만 가진다. 그래야 람다식과 메서드가 1:1 관계로 연결된다. static, default 메서드는 개수의 제한이 없다.