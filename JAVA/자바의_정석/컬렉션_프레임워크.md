# 컬렉션 프레임워크

## 컬렉션 프레임워크란

>   **데이터 군을 저장하는 클래스들을 표준화한 설계.**
>
>   JDK1.2 이전까지는 Vector, Hashtable, Properties와 같은 컬렉션 클래스 등 서로 다른 각자의 방식으로 다수의 데이터를 처리해야 했으나, 1.2부터는 컬렉션 프레임워크가 추가되어 표준화된 방식으로 다룰 수 있도록 체계화되었다.

### 장점

*   인터페이스와 다형성을 이용한 객체지향적 설계를 통해 표준화되어 사용법을 익히기 편하다.
*   재사용성이 높은 코드를 작성할 수 있다.

## 컬렉션 프레임웍의 핵심 인터페이스

![Screen Shot 2022-06-04 at 17.11.43](https://tva1.sinaimg.cn/large/e6c9d24egy1h2wa2jm8gcj20dx053746.jpg)

>   List와 Set은 공통부분이 많이 있어서 공통된 부분을 다시 뽑아서 Collection 인터페이스를 정의할 수 있었지만, Map 인터페이스는 이들과는 전혀 다른 형태로 컬렉션을 다루기 때문에 같은 상속계층도에 포함되지 못했다.



### 각 인터페이스 특징

>   컬렉션 프레임워크의 모든 컬렉션 클래스들은 List, Set, Map 중 하나를 구현한다. 이 세가지의 특징을 잘 이해해야 한다.

| 인터페이스 | 특징                                                         |
| ---------- | ------------------------------------------------------------ |
| List       | 순서가 있는 데이터의 집합, 중복 허용                         |
| Set        | 순서가 없는 데이터의 집합, 중복을 허용하지 않는다.           |
| Map        | 키(key)와 값(value)으로 이루어진 데이터의 집합. 순서는 유지되지 않으며 키는 중복을 허용하지 않고, 값은 중복을 허용한다. |



### Collection 인터페이스

>   Collection 인터페이스는 List, Set의 조상 인터페이스이다.

| 메서드                                                       | 설명                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| boolean add(Object e)<br />boolean addAll(Collection c)      | 지정된 객체(o)또는 Collection의 객체들을 Collection에 추가한다. |
| void clear()                                                 | Collection의 모든 객체를 삭제한다.                           |
| boolean contains(Object o)<br />boolean containsAll(Collection c) | 지정도니 객체(o)또는 Collection의 객체들이 Collection에 포함되어 있는지 확인한다. |
| boolean equals(Object o)                                     | 동일한 Collection인지 비교한다.                              |
| int hashCode()                                               | Collection의 해시코드를 반환한다.                            |
| boolean isEmpty()                                            | Collection이 비어있는지 확인한다.                            |
| Iterator iterator()                                          | Collection의 Iterator를 얻어서 반환한다.                     |
| boolean remove(Object o)                                     | 지정된 객체를 삭제한다.                                      |
| boolean removeAll(Collection c)                              | 지정된 Collection에 포함된 객체들을 삭제한다.                |
| boolean retainAll(Collection c)                              | 지정된 Collection에 포함된 객체만을 남기고 다른 객체들은 Collection에서 삭제한다. 이 작업으로 인해 Collection에 변화가 있으면 true, 아니면 false를 반환한다. |
| int size()                                                   | Collection의 길이를 반환한다.                                |
| Object[] toArray()                                           | Collection에 저장된 객체를 객체배열(Object[])로 반환한다.    |
| Object[] toArray(Object[] a)                                 | 지정된 배열에 Collection의 객체를 저장해서 반환한다.         |



### List 인터페이스

>   **중복을 허용**하면서 **저장 순서가 유지되는** 컬렉션을 구현하는데 사용된다.

<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2wbxak1f9j211o0m4wf9.jpg" alt="Screen Shot 2022-06-04 at 18.15.52" style="zoom:50%;" />

*   메서드 및 설명

| 메서드                                                       | 설명                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| void add(int index, Object element)<br />boolean addAll(int index ,Collection c) | 지정된 위치(index)에 객체(element) 또는 컬렉션에 포함된 객체들을 추가한다. |
| Object get(int index)                                        | 지정된 위치에 있는 객체를 반환한다.                          |
| int indexOf(Object o)                                        | 지정된 객체의 위치(index)를 반환한다. (List의 첫 번째 요소부터 순방향으로 찾는다.) |
| int lastIndexOf(Object o)                                    | 지정된 객체의 위치(index)를 반환한다. (List의 마지막 요소부터 역방향으로 찾는다.) |
| ListIterator listIterator()<br />ListIterator listIterator(int index) | List의 객체에 접근할 수 있는 ListIterator를 반환한다.        |
| Object remove(int index)                                     | 위치에 해당하는 객체를 삭제하고, 삭제된 객체를 반환한다.     |
| Obejct set(int index, Object element)                        | 지정된 위치(index)에 객체(element)를 저장한다.               |
| void sort(Comparator c)                                      | 지정된 비교자(comparator)로 List를 정렬한다.                 |
| List subList(int fromIndex, int toIndex)                     | 지정된 범위에 있는 객체를 반환한다.                          |



### Set 인터페이스

>   **중복을 허용하지 않고** **저장 순서가 유지되지 않는** 컬렉션 클래스를 구현하는데 사용된다.

<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2wc6hs3bhj20q80ka74r.jpg" alt="Screen Shot 2022-06-04 at 18.24.44" style="zoom:50%;" />



### Map 인터페이스

>   키와 값을 하나의 쌍으로 묶어서 저장하는 컬렉션 클래스를 구현하는 데 사용된다.

<img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h2wc8nons9j214w0kmgmn.jpg" alt="Screen Shot 2022-06-04 at 18.26.48" style="zoom:50%;" />

| 메서드                               | 설명                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| void clear()                         | Map의 모든 객체를 삭제한다.                                  |
| boolean containsKey(Object key)      | 지정된 key객체와 일치하는 Map의 key객체가 있는지 확인한다.   |
| boolean containsValue(Object value)  | 지정된 value객체와 일치하는 Map의 value객체가 있는지 확인한다. |
| Set entrySet()                       | Map에 저장되어 있는 key - value 쌍을 Map.Entry타입의 객체로 저장한 Set으로 반환한다. |
| boolean equals(Object o)             | 동일한 Map인지 비교한다.                                     |
| Object get(Object key)               | 지정한 key객체에 대응하는 value객체를 찾아서 반환한다.       |
| int hashCode()                       | 해시코드를 반환한다.                                         |
| boolean isEmpty()                    | Map이 비어있는지 확인한다.                                   |
| Set keySet()                         | Map에 저장된 모든 key객체를 반환한다                         |
| Object put(Object key, Object value) | Map에 value객체를 key객체에 연결하여 저장한다.               |
| void putAll(Map t)                   | 지정된 Map의 모든 key-value쌍을 추가한다.                    |
| Object remove(Object key)            | 지정한 key객체와 일치하는 key - value 객체를 삭제한다.       |
| int size()                           | Map에 저장된 key-value쌍의 개수를 반환한다.                  |
| Collection values()                  | Map에 저장된 모든 value객체를 반환한다.                      |

>   *   keySet()은 중복을 허용하지 않기 때문에 Set으로 반환한다.
>   *   values()는 중복을 허용하기 때문에 Collection타입으로 반환한다.



### Map.Entry 인터페이스

>   Map인터페이스의 내부 인터페이스이다. 내부 클래스와 같이 인터페이스도 인터페이스를 정의하는 내부 인터페이스(Inner interface)를 정의하는 것이 가능하다. Map에 저잗ㅇ되는 key-value 쌍을 다루기 위해 내부적으로 Entry 인터페이스를 정의해놓았다. 이것은 보다 객체지향적으로 설계하도록 유도하기 위한 것으로 Map인터페이스를 구현하는 클래스에서는 Map.Entry 인터페이스도 함께 구현해야 한다.



| 메서드                        | 설명                                      |
| ----------------------------- | ----------------------------------------- |
| boolean equals(Object o)      | 동일한 Entry인지 비교한다.                |
| Object getKey()               | Entry의 key객체를 반환한다.               |
| Object getValue()             | Entry의 value객체를 반환한다.             |
| int hashCode()                | Entry의 해시코드를 반환한다.              |
| Object setValue(Object value) | Entry의 value객체를 지정된 객체로 바꾼다. |



## ArrayList

>   List 인터페이스를 구현하기 때문에 데이터의 저장순서가 유지되고 중복을 허용한다.
>
>   *   ArrayList는 기존의 Vector를 개선한 것이다.
>   *   ArrayList는 Object 배열을 이용해서 데이터를 순차적으로 저장한다.
>   *   ArrayList는 배열이 더 이상 저장할 공간이 없으면 보다 큰 새로운 배열을 생성해서 기존의 배열에 저장된 내용을 새로운 배열로 복사한 다음에 저장된다.



```java
public class ArrayList extends AbstractList implements List, RandomAccess, Cloneable, java.io.Serializable {
    ...
    transient Object[] elementData;	// Object 배열 
}
```



>   elementData라는 이름의 Object배열을 멤버 변수로 선언하고 있따는 것을 알 수 있다. 선언된 배열의 타입이 모든 객체의 최고조상인 Object이기 때문에 모든 종류의 객체를 담을 수 있다.

### 메서드 및 설명

| 메서드                                   | 설명                                                         |
| ---------------------------------------- | ------------------------------------------------------------ |
| ArrayList()                              | 크기가 10인 ArrayList를 생성                                 |
| ArrayList(Collection c)                  | 주어진 컬렉션이 저장된 ArrayList를 생성                      |
| ArrayList(int initialCapacity)           | 지정된 초기용량을 갖는 ArrayList를 생성                      |
| boolean add(Object o)                    | ArrayList의 마지막에 객체를 추가. 성공하면 true              |
| void add(int index, Object element)      | 지정된 위치(index)에 객체를 저장                             |
| boolean addAll(Collection c)             | 주어진 컬렉션의 모든 객체를 저장한다.                        |
| boolean addAll(int index, Collection c)  | 지정된 위치부터 주어진 컬렋녀의 모든 객체를 저장한다.        |
| void clear()                             | ArrayList를 완전히 비운다.                                   |
| Object clone()                           | ArraytList를 복제한다.                                       |
| boolean contains(Object o)               | 지정된 객체(o)가 ArrayList에 포함되어 있는지 확인            |
| void ensureCapacity(int minCapacity)     | ArrayList의 용량이 최소한 minCapacity가 되도록 한다.         |
| Object get(int index)                    | 지정된 위치(index)에 저장된 객체를 반환한다.                 |
| int indexOf(Object o)                    | 지정된 객체가 저장된 위치를 찾아 반환한다.                   |
| boolean isEmpty()                        | ArrayList가 비어있는지 확인한다.                             |
| Iterator iterator()                      | ArrayList의 iterator객체를 반환                              |
| int lastIndexOf(Object o)                | 객체(o)가 저장된 위치를 끝부터 역방향으로 검색해서 반환      |
| ListIterator listIterator()              | ArrayList의 ListIterator를 반환                              |
| ListIterator listIterator(int index)     | ArrayList의 지정된 위치부터 시작하는 ListIterator를 반환     |
| Object remove(int index)                 | 지정된 위치에 있는 객체를 제거한다.                          |
| boolean remove(Object o)                 | 지정한 객체를 제거한다.(성공 true, 실패 false)               |
| boolean removeAll(Collection c)          | 지정한 컬렉션에 저장된 것과 동일한 객체들을 ArrayList에서 제거한다. |
| boolean retainAll(Collection c)          | ArrayList에 저장된 객체 중에서 주어진 컬렉션과 공통된 것들만을 남기고 나머지는 삭제한다. |
| Object set(int index, Object element)    | 주어진 객체를 지정된 위치에 저장한다.                        |
| int size()                               | ArrayList에 저장된 객체의 개수를 반환한다.                   |
| void sort(Comparator c)                  | 지정된 정렬기준(c)으로 ArrayList를 정렬                      |
| List subList(int fromIndex, int toIndex) | fromIndex부터 toIndex사이에 저장된 객체를 반환한다.          |
| Object[] toArray()                       | ArrayList에 저장된 모든 객체들을 객체배열로 반환한다.        |
| Object[] toArray(Object[] a)             | ArrayList에 저장된 모든 객체들을 객체배열 a에 담아 반환한다. |
| void trimToSize()                        | 용량을 크기에 맞게 줄인다.(빈 공간을 없앤다.)                |
