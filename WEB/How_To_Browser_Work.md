## 브라우저의 동작 원리

> 출처 : (https://d2.naver.com/helloworld/59361)
> 		   (https://www.boostcourse.org/web316/lecture/254256?isDesc=false)



### 브라우저의 기본 구조

1. 사용자 인터페이스

   > 주소 표시줄, 이전 / 다음 버, 북마크 메뉴 등 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분

2. 브라우저 엔진

   >사용자 인터페이스와 렌더링 엔진 사이의 동작 제어

3. 렌더링 엔진

   > 요청한 컨텐츠 표시, 예를 들어 HTML을 요청하면 HTML & CSS 파싱하여 화면에 표시한다.

4. 통신

   > HTTP 요청과 같은 네트워크 호출에 사용된다. 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행된다. 

5. UI 백엔드

   > 콤보 박스 ,창 등의 기본적 장치를 그린다. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서 OS 사용자 인터페이스 체계 사용

6. 자바스크립트 해석기

   > 자바스크립트 코드 해석 및 실행

7. 자료 저장소

   > 쿠키 저장과 같이 모든 종류의 자원을 하드 디스크에 저장할 필요가 있다. HTML5 명세에는 브라우저가 지원하는 `웹 데이터 베이스`가 정의되어 있다.

   

### 브라우저의 컴포넌트

![image-20220127163407878](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220127163407878.png)



* 렌더링 엔진 

  > 렌더링 엔진은 HTML, XML, 이미지 등 요청받은 내용을 브라우저 화면에 표시하는 엔진이다.
  >
  > 각각의 브라우저는 각자의 렌더링 엔진을 가지고 있는데 예를 들어
  >
  > * Safari : WebKit
  > * Firefox : Gecko
  > * Chrome & Opera : Blink 등이 있다.

  

* 렌더링 엔진의 Main Flow :
  ![image-20220128093526010](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20220128093526010.png)
  
  > **DOM 을 파싱하고 렌더 트리를 그려  화면에 표시한다.**
  
  1. HTML을 파싱하여 DOM 트리 형식으로 배치한다. 이때 CSS 파일도 파싱된다.
  2. 둘이 합쳐져 엘리먼트에 스타일을 부여하는 작업을 하고 렌더트리를 그린다.
  3. 각각의 DOM 트리별로 어떤 스타일 정보를 가지는지 렌더트리를 다시 객체화 시켜서 key : value 구조로 레이아웃을 결정한다.
  4. 레이아웃이 결정되면 실제로 페인팅하여 화면에 표시한다.



