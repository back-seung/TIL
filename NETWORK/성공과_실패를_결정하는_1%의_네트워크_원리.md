# 성공과 실패를 결정하는 1%의 네트워크 원리

## 지름길

- 핵심 포인트 - 본문에서 설명할 주제를 간단히 보여주는 내용이다.
- 워밍업 문제 - 간단한 퀴즈이다. 본문의 설명을 좀 더 적극적으로 읽을 수 있는 문제 의식을 찾게한다.
- 탐험 여행의 경유지 - 본문에서 설명하는 주제를 나타낸다. 개요를 먼저 파악해 두는 의미에서 꼭 읽자.
- 용어 설명 - 각 장의 본문 안에서 사용하는 전문 용어를 굵게 표현해놓고 상세히 설명한다.
- 본문 - 각 장의 주제를 중심으로 구조 및 작동 원리를 설명한다. 
- 확인 퀴즈 - 본문의 설명에 관해 퀴즈가 게재된다.
- 에피소드 - 네트워크 용어의 어원에 대해 게재된다. 본질을 이해할 수 있다. 용어에 친숙해진다는 기분으로 읽자.



## 챕터

1. 웹 브라우저가 메시지를 만든다.

   > 브라우저, 웹 서버, URL, HTTP, HTML, 프로토콜, URI, 리퀘스트, 메시지, 리졸버, Socket 라이브러리, DNS 서버, 도메인 명

2. TCP/IP의 데이터를 전기 신호로 만들어 보낸다.

   > TCP/IP, 소켓, 프로토콜 스택, IP 주소, 포트 번호, 패킷, 헤더, LAN 어댑터, LAN 드라이버, MAC 주소, 이더넷 컨트롤러, ICMP, UDP

3. 케이블의 앞은 LAN 기기였다.

   > LAN, 트위스트 페어 케이블, 크로스 토크, 리피터 허브, MDI, MDI-X, 스위칭 허브, 전이중, 반이중, 충돌, 자동 조정, 라우터, 경로표, 넷마스크, 기본 게이트 웨이, 조각 나누기, 주소 변환, 글로벌 주소, 프라이빗 주소

4. 엑세스 회선을 통해 인터넷의 내부로.

   > ADSL, FTTP, 광섬유 엑세스 회선, ADSL 모뎀 일체형 라우터, ATM, 셀, 직교 진폭 변조, 스플리터, DSLAM, 브로드밴드 엑세스 서버, 리모트 엑세스 서버, PPP, 네트워크 오퍼레이션 센터, 광섬유, IX(Internet eXchanger)

5. 서버축의 LAN에는 무엇이 있는가?

   > 방화벽, 패킷 필터링, 데이터 센터, 라운드 로빈, 부하 분산 장치, 캐시 서버, 프록시, 프록시 서버, 콘텐츠 배포 서비스, 리다이렉트

6. 웹 서버에 도착하여 응답 데이터가 웹 브라우저로 돌아간다.

   > 응답 메시지, 멀티 태스크, 멀티 스레드, 가상 디렉토리, CGI, 폼, 엑세스 제어, 패스워드, 데이터 형식, MIME

### 

## 흐름

![스크린샷 2022-12-27 23.24.39](https://raw.githubusercontent.com/back-seung/TIL/master/uPic/202212272324193.png)

- 서버측 : 결승점
- 사용자측 : 출발점



## 01. 웹 브라우저가 메시지를 만든다.

### 1. 탐험 여행은 URL 입력부터 시작한다.

URL은 Uniform Resource Location의 약자로 URL의 맨 앞 문자열인 http:, ftp:, file: 등은 엑세스 하는 방법을 나타낸다.

 엑세스 대상이 웹 서버라면 HTTP 프로토콜을 사용하고, FTP 서버라면 FTP 프로토콜을 사용한다.

 하지만 네트워크를 사용하지 않는 것도 있으므로 프로토콜을 나타낸다고 단언할 수는 없다.



| 다양한 URL 경우                                       | 예제                                                   |
| ----------------------------------------------------- | ------------------------------------------------------ |
| HTTP 프로토콜로 웹 서버에 엑세스하는 경우             | http://user:password@www.cyber.co.kr:80/dir/file1.html |
| FTP 프로토콜로 파일을 다운로드하거나 업로드 하는 경우 | ftp://user:password@ftp.cyber.co.kr:21/dir/file1.html  |
| 클라이언트 PC 자체의 파일에서 데이터를 읽어오는 경우  | file://localhost/c:/path/file1.zip                     |
| 메일을 송신하는 경우                                  | mailto:tone@cyber.co.kr                                |
| 뉴스그룹의 기사를 읽는 경우                           | news:comp.protocols.tcp-ip                             |

### 2. 브라우저는 먼저 URL을 해독한다.

브라우저가 처음 하는 일은 웹 서버에 보내는 리퀘스트의 메시지를 작성하기 위해 이 URL을 해독하는 것이다. URL의 형식은 프로토콜에 따라 다르다.

`http: + // + 웹 서버명 + / + 디렉토리명 + / + ... + 파일명`을 통해 URL의 요소를 확인해보자.

- URL 의 요소
  - `http:` - URL의 맨 앞에는 데이터 출처에 엑세스 하는 방법, 즉 프로토콜을 기록한다.
  - `//` - 나중에 이어지는 문자열이 서버의 이름임을 나타낸다.
  - `/ + 디렉토리명 + / + ... + 파일명` - 데이터 출처(파일)의 경로명을 나타낸다.

### 3. 파일명을 생략한 경우

아래의 URL들을 보며 다음과 같이 생각할 수 있다.

- http://www.lab.cyber.co.kr/dir/ 
  - 끝이 /로 끝난 경우는 /dir/의 다으멩 써야 할 파일명을 쓰지 않고 생략한다는 것이다. URL의 규칙에는 이와 같이 파일명을 생략해도 좋다. 하지만 파일명을 쓰지 않으면 어느 파일에 엑세스해야 할지 모르기 때문에 **파일명을 생략할 때를 대비하여 파일명을 미리 서버측에 설정해준다.** 대부분의 서버는 index.html, default.html이라는 파일명을 설정해 둔다.
  - 따라서 위와 같이 파일명을 생략하면 dir/index.html 또는 dir/default.html이라는 파일에 엑세스한다.
- http://www.lab.cyber.co.kr/
  - 끝에 /가 있으므로 /라는 디렉토리가 지정되고 파일명은 생략된 것이다.
  - 따라서 /index.html 또는 /default.html이라는 파일에 엑세스한다.
- http://www.lab.cyber.co.kr
  - 끝의 / 까지 생략된 경우이다. 디렉토리명까지 생략해버리면 무엇을 요청하고 있는지 알지 못하게 되므로 너무 지나친 생략일 수 있으나 이렇게 쓰는 방법도 인정되고 있다.
  - 루트 디렉토리의 아래에 있는 미리 설정된 파일명의 파일. 즉, /index.html 또는 /default.html이라는 파일에 엑세스 한다.
- http://www.lab.cyber.co.kr/whatisthis
  - 이 경우 맨 끝에 / 가 없으므로 whatisthis를 파일명으로 볼 수도 있으나 실제로는 파일명을 생략하는 규칙을 정확히 이해 못하고 디렉토리의 끝에 있는 / 까지 생략해 버린 경우일 수 있다.
  - 이 때는 whatisthis가 파일일 경우 파일로 간주하고 디렉토리일 경우는 디렉토리로 간주한다.

