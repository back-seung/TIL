# 데이터 표준 API 기본 규격



### **명명 규칙 :** API 명세 내 URI와 파라미터의 명명으로 'Under Scores'표기법(각 소문자 영단어가 밑줄 문자(_)로 연결)을 사용함

> 단, OAuth2.0과 같이 타 표준에서 요구하는 URI나 파라미터 명명 규칙 등이 존재하는 경우 해당 표준을 우선 준용함

### **통화코드 표현 형식 :** 통화코드 표현은 ISO 4217을 사용함

> ※ 예시 : KRW - 한국원화



## 데이터 통신 규격

### **URI 계층 구조 :** 업권별 웹서버 상의 자원(리소스)을 고유하게 식별하고, 위치를 지정할 수 있도록 URI 계층 구조는 다음과 같이 구성

|                     분류                     |                        URI 계층 구조                         |
| :------------------------------------------: | :----------------------------------------------------------: |
| OAuth 2.0 관련 API (인증 API, 지원 API 일부) | **<base path>** / oauth / 2.0 / [authorize \| token \| revoke] |
|             업권별 정보제공 API              |  <base path> / **<version>** / **<industry>** / <resource>   |
|                   지원 API                   |             <base path> / <version> / <resource>             |
|                 통합인증 API                 |             <base path> / <version> / <resource>             |

<base path> : 정보 제공자의 API서버 도메인명(또는 IP)로써 종합포털에 기관정보와 함께 등록한 정보
금융회사가 마이데이터사업자 허가를 받는 경우, 금융회사가 정보제공을 위해 사용하는 도메인(예:base path #1)과 마이데이터사업자로서 정보 제공을 위해 사용하는 도메인(예:base path #2)을 구분

<version> : 표준API 규격 버전정보로써 "v"+숫자로 표기(예: v1, v34 등)

<industry> : 업권 정보
업권을 URI로 구분하고, 업권 간 URI 중복을 방지하기 위해 <industry>로 구분
지원 API는 종합포털과 마이데이터사업자/정보제공자 간 이용되는 API 이기 때문에 <industry> 불필요



### **페이지네이션, 부분범위 조회 :** 정보의 목록을 반환하는 API(거래내역 조회 등)에는 부분범위 조회를 위한 ‘Cursor-Based Pagination’ 기법을 적용하여 데이터수신자의 처리 효율성과 정보 제공자의 부하를 경감함

부분범위 조회 요청/응답 파라미터 규격

|       구분       |    이름    | 타입 (길이) |                             설명                             |
| :--------------: | :--------: | :---------: | :----------------------------------------------------------: |
|       요청       |   limit    |    N (3)    | 기준개체 이후 반환될 개체의 개수 (최대 500자까지 설정 가능)  |
|                  | next_page* |  aN (1000)  | 다음 페이지 요청을 위한 기준개체 (설정 시 해당 개체를 포함한 limit 개 반환) |
| 응답 (JSON 응답) | next_page* |  aN (1000)  | 다음 페이지 요청을 위한 기준개체 (다음 페이지 존재하지 않는 경우 미회신) |



### **HTTP 헤더 :** 표준 API에 지원되는 HTTP 헤더를 다음과 같이 지정

**Content-Type :** 데이터(Body)의 포맷을 지정하기 위한 헤더 값으로 필요에 따라 application/x-www-form-urlencoded, 또는 application/json으로 지정

|      구분       |                  구분                   |           헤더 값 지정            |
| :-------------: | :-------------------------------------: | :-------------------------------: |
| 요청 (Request)  |       OAuth 2.0 관련 API 호출 시        | application/x-www-form-urlencoded |
|                 |      JSON 형식으로 데이터 전송 시       |         application/json          |
| 응답 (Response) | OAuth 2.0 인가코드 발급요청 API 호출 시 | application/x-www-form-urlencoded |
|                 |      JSON 형식으로 데이터 전송 시       |         application/json          |



### **응답코드 및 메시지 :** 기본적인 HTTP 응답코드는 정상응답 여부 및 주요한 에러를 범주로 처리하는 등 각 API 처리상황의 상세한 판단이 불가능 하므로, 세부 응답코드 및 메시지를 사용함

**OAuth 2.0 관련 API**

\- RFC 6479 및 7009 국제표준 준용