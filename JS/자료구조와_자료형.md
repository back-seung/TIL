# 코어 자바스크립트 - 자료구조와 자료형

> 출처 : [모던 JavaScript 튜토리얼](https://ko.javascript.info) 
>
> 
>
> - 챕터마다 지정한 별(0 ~ 5)는 작성자(백승한)가 느끼는 난이도에 따라 지정되었습니다.
> - 어떤 챕터는 모르는 것, 헷갈리는 것 위주로만 정리하기도 하였습니다.



## 원시값의 메서드 - ⭐️

자바스크립트는 원시값을 마치 객체처럼 다룰 수 있게 해준다. 원시값에도 객체에서처럼 메서드를 호출할 수 있다. 원시값은 객체가 아님을 상기하자.

### 원시값과 객체의 차이

- 원시값

  - string, number, bigint, boolean, symbol, null, undefined형으로 총 일곱가지의 원시형 값이다.

- 객체

  - 프로퍼티에 다양한 종류의 값을 저장할 수 있다.
  - `{name : "John", age: 30}`와 같이 중괄호를 사용해 만들 수 있다. 자바스크립트에는 여러 종류의 객체가 있는데 함수도 객체의 일종이다.
  - 개게의 장점 중 하나는 함수를 프로퍼티로 지정할 수 있다는 것이다.

  ```javascript
  let john = {
      name: "John",
      age: 30,
  	sayHi: function() {
      	alert("친구야 반갑다");    
  	}
  };
  
  john.sayHi(); // 친구야 반갑다
  ```

  객체 john을 만들고 거기에 메서드 sayHi를 정의했다. 자바스크립트는 다양한 내장 객체를 제공한다. 이 객체들은 고유한 프로퍼티와 메서드를 가진다.

  하지만 이런 기능을 사용하면 시스템 자원이 많이 소모된다는 단점이 있다. 객체는 **원시값보다 무겁고, 내부 구조를 유지하기 위해 추가 자원을 사용하기 때문이다.**



### 원시값을 객체처럼 사용하기

- 문자열이나 숫자와 같은 원시값을 다루는 작업이 많은데 메서드를 사용하면 작업을 수월하게 할 수 있을 것 같다는 생각
- 원시값은 가능한 한 가볍고 빨라야 한다.

의 상황을 해결해야만 했던 JS의 창안자는

1. 원시값은 원시값대로 남겨둬 단일 값 형태를 유지한다.
2. 문자열, 숫자, 불린, 심볼의 메서드와 프로퍼티에 접근할 수 있도록 언어 차원에서 허용한다.
3. 이를 가능하게 하기 위해 원시값이 메서드나 프로퍼티에 접근하려 하면 추가 기능을 제공해주는 특수한 객체 "원시 래퍼 객체"를 만들어준다. 이 객체는 곧 삭제된다.

Wrapper객체는 원시 타입에 따라 종류가 다양하며 원시값의 이름을 그대로 차용해 String, Number, Boolean, Symbol라고 부른다. 객체 마다 제공하는 메서드 역시 다르다.

- 예제

```javascript
let str = "hello";

alert(str.toUpperCase()); // HELLO
```

문자열 str은 원시값이므로 원시값의 프로퍼티에 접근하는 순간 래퍼 객체가 만들어지고 이 객체는 toUpperCase() 메서드를 실행하여 새로운 문자열 HELLO를 반환한다. 그리고 객체는 파괴되며 원시값 str만 남는다.

JS 엔진은 위 프로세스의 최적화에 많은 신경을 쓴다. 원시 래퍼 객체를 만들지 않고도 마치 원시 래퍼 객체를 생성한 것처럼 동작하게끔 해준다.

숫자형도 고유한 메서드를 지원한다. 메서드 toFixed(n)를 이용하면 원하는 자리에서 소수점 아래 숫자를 반올림할  수 있다.

- 예제

```java
let n = 1.23456;

alert(n.toFixed(2)); // 1.23
```



숫자형, 문자열에서 더 많은 메서드를 알아보자

#### String/Number/Boolean을 생성자로 사용하면 혼란스럽다.

- 예시 1

```javascript
alert(typeof 0); // number
alert(typeof new Number(0)); // object
```

- 예시 2

```javascript
let zero = new Number(0);

if(zero) {
	alert("0이 참?");
}
```

그런데, new 키워드를 사용하지 않고 String/Number/Boolean을 사용하는 것은 괜찮다. 인수를 원하는 형의 원시값으로 바꿔준다.

#### unll/undefined는 메서드가 없다.

특수 자료형인 null/undefined의 원시값은 위와 같은 법칙을 따르지 않는다. 이 자료형과 연관되는 래퍼 객체도 없고 메서드도 제공하지 않는다. 어떤 의미에서는 두 자료형이 가장 원시적이라 할 수 있다.



## 숫자형 -

모던 자바스크립튼느 숫자를 나타내는 두 가지 자료형을 제공한다.

1. 일반적인 숫자는 배정밀도 부동소수점 숫자로 알려진 64비트 형식의 IEEE-754에 저장된다. 
2. 임의의 길이를 가진 정수는 BigInt 숫자로 나타낼 수 있다. 일반적인 숫자는 2의 53제곱 이상이거나 -2의 53제곱 이하일 수 없다는 제약 때문에 BigInt라는 새로운 자료형이 만들어졌다. BigInt는 아주 특별한 경우에만 사용되므로 별도의 챕터에서 다뤄진다.

### 숫자를 입력하는 다양한 방법

10억을 입력해야 한다고 했을 때 아래와 같이 직접 10억을 써줄 수 있다.

```javascript
let billion = 1000000000;
```

그런데 이렇게 0을 많이 사용해 숫자를 표현하다 보면 잘못 입력하기 쉽기 때문에 실제로는 이런 방법을 잘 사용하지 않는다. 그래서 대게 10억을 나타낼 땐 `1bn`을 사용하고 73억을 나타낼 땐 `7.3bn`을 사용한다.

자바스크립트도 숫자 옆에 e를 붙이고 0의 개수를 그 옆에 붙여주면 숫자를 줄일 수 있다.

```javascript
let billion = 1e9; // 10억 1과 9개의 0

alert(7.3e9); // 73억
```

`e`는 e왼쪽의 수에 e오른쪽에 있는 수만큼의 10 거듭제곱을 곱하는 효과가 있다.

```javascript
1e3 = 1 * 10 * 10 * 10
1.23e6 = 1.23 * 1000000
```

반대로 작은 숫자를 표현할 때도 e를 사용할 수 있다. 0을 명시적으로 쓰고 싶지 않으면 다음과 같이 숫자를 표현할 수 있다.

```javascript
// before
let ms = 0.000001;
// after
let ms = 1e-6; // 1에서 왼쪽으로 6번 소수점 이동
```



#### 16진수, 2진수, 8진수

16진수는 0x를 사용해 표현할 수 있다. 대 소문자를 가리지 않는다.

```javascript
alert(0xff); // 255
alert(0xFF); // 255
```

2진수와 8진수는 드물게 쓰이긴 하지만 0b, 0o를 사용해 간단히 나타낼 수 있다.

```javascript
let a = 0b11111111;
let b= 0o377;

alert(a == b); // true
```

